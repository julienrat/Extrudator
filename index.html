<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extrudator - Vectorisation & Extrusion 3D</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Extrudator</h1>
        <p>Vectorisation d'image et extrusion 3D</p>
        
        <div class="upload-section">
            <label for="image-input">Choisir une image noir et blanc:</label>
            <input type="file" id="image-input" accept="image/*">
        </div>
        
        <div class="settings-section">
            <div class="setting">
                <label for="threshold">Seuil noir/blanc:</label>
                <input type="range" id="threshold" min="0" max="255" value="128">
                <span id="threshold-value">128</span>
            </div>
            <div class="setting">
                <label for="extrusion">Hauteur d'extrusion (mm):</label>
                <input type="number" id="extrusion" min="0.1" step="0.1" value="10">
            </div>
            <div class="setting">
                <label for="simplification">Niveau de simplification:</label>
                <input type="range" id="simplification" min="0" max="10" value="5">
                <span id="simplification-value">5</span>
            </div>
            <button id="process-btn">Traiter l'image</button>
        </div>
        
        <div class="preview-section">
            <div class="preview">
                <h2>Image originale</h2>
                <canvas id="original-canvas"></canvas>
            </div>
            <div class="preview">
                <h2>Aperçu vectorisé</h2>
                <canvas id="vector-canvas"></canvas>
            </div>
            <div class="preview">
                <h2>Aperçu 3D</h2>
                <div id="model-preview"></div>
            </div>
        </div>
        
        <div class="export-section">
            <button id="export-stl-btn" disabled>Exporter en STL</button>
            <button id="export-dxf-btn" disabled>Exporter en DXF</button>
        </div>
    </div>

    <!-- Bibliothèques externes -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <script src="https://unpkg.com/imagetracerjs/imagetracer_v1.2.6.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simplify-js@1.2.4/simplify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>

    <!-- Nos scripts -->
    <script src="js/vectorizer.js"></script>
    <script src="js/extruder.js"></script>
    <script src="js/app.js"></script>
</body>
</html> 